@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    @model Tuple<IEnumerable<Category>, IEnumerable<Product>>
    Layout = "HomeLayout";
}

<!-- Start Hero Section -->
<div class="hero">
    <div class="container">
        <div class="row justify-content-between">
            <div class="col-lg-5">
                <div class="intro-excerpt">
                    <h1>Shop</h1>
                </div>
            </div>
            <div class="col-lg-7">
            </div>
        </div>
    </div>
</div>
<!-- End Hero Section -->

<br />
<br />
<form asp-action="SearchByProductName" method="post" class="form-inline mb-3">
    <div style="display:flex;justify-content: flex-start;gap: 50%;">
        <div style="display:flex;gap:3px;padding-left:2%;">
            <input type="text" name="name" class="form-control mr-2" placeholder="Search by name" style="width:200px;margin-left:3%;" />
            <br />
            <button type="submit" class="btn btn-primary" style="font-size:90%;">Search</button>
        </div>
    </div>
</form>

<form asp-action="ProductByCategorie" method="post" class="form-inline mb-3">
    <div style="display:flex;justify-content: flex-start;gap: 50%;">
        <div style="display:flex;gap:3px;padding-left:2%;">
            <select name="categoryId" class="form-control" style="width:200px;margin-left:3%;" onchange="this.form.submit()">
                <option value="">Select Category</option>
                @foreach (var item in Model.Item1)
                {
                    <option value="@item.Id" style="padding:10px;">@item.Name</option>
                }
            </select>
        </div>
    </div>
</form>

<div class="untree_co-section product-section before-footer-section">
    <div class="container">
        <div class="row">
            <!-- Start Column 4 -->
            @foreach (var item in Model.Item2)
            {
                    <div class="col-12 col-md-4 col-lg-3 mb-5">
                        <a class="product-item" >
                            <img src="@Url.Content("~/images/" + item.Image)" class="img-fluid product-thumbnail">
                            <h3 class="product-title">@item.Name</h3>
                            <strong class="product-price">$@item.Price</strong>
                            <span class="icon-cross">

                            <form method="post" type="submit" asp-action="AddToCart" asp-controller="Cart">
                                <input type="hidden" name="ProductId" value="@item.Id" />
                                <input type="hidden" name="Quantity" value="1" />
                                <button>
                                    <img src="~/HomeAssets/images/cross.svg" class="img-fluid">
                                </button>
                                </form>
                        </span>
                        </a>
                    </div>
              

            }
            <div class="col-12 col-md-4 col-lg-3 mb-5">
                <a class="product-item" href="#">
                    <img src="images/product-3.png" class="img-fluid product-thumbnail">
                    <h3 class="product-title">Ergonomic Chair</h3>
                    <strong class="product-price">$43.00</strong>

                    <span class="icon-cross">
                        <img src="images/cross.svg" class="img-fluid">
                    </span>
                </a>
            </div>
            <!-- End Column 4 -->
        </div>
    </div>
</div>
